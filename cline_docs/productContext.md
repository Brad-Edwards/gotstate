# Product Context

## Purpose

gotstate is a high-performance hierarchical finite state machine (HFSM) library that provides:

- UML-compliant state management
- True parallel execution capabilities
- Dynamic modification support
- Monitoring features

## Core Problems Solved

1. Complex State Management
   - Hierarchical state nesting
   - Parallel region execution
   - State machine composition
   - History state tracking

2. Reliable Event Processing
   - Run-to-completion semantics
   - Event queuing and prioritization
   - Concurrent event handling
   - Event deferral support

3. Runtime Flexibility
   - Dynamic modifications
   - Version management
   - Extension support
   - State introspection

## Expected Behavior

1. State Machine Semantics
   - Strict UML compliance
   - Deterministic execution
   - State consistency
   - Isolation guarantees

2. Performance Requirements
   - Predictable scaling
   - Consistent processing
   - Resource boundaries
   - Concurrent execution

3. API Design
   - Clear extension points
   - Consistent interfaces
   - Diagnostic capabilities
   - Error handling

4. Security & Validation
   - Input validation
   - State protection
   - Resource boundaries
   - Configuration validation
